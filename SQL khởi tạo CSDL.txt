Create Database QlyPhongMay
On 
(	Name = QuanLiPhongMay_data,
	Filename = 'D:\How to programming with C#\BTL nhóm 4\SQL Code\QuanLiPhongMay.mdf',
	size = 5,
	Maxsize = 10,
	filegrowth = 2
)
Log on
(	Name = ql_sv_log,
	Filename = 'D:\How to programming with C#\BTL nhóm 4\SQL Code\QuanLiPhongMay.ldf',
	size = 5mb,
	Filegrowth = 2mb
)

CREATE TABLE tblMayTinh (
    [MaMay]       NCHAR (10) NOT NULL,
    [TenMay]      NCHAR (10) NULL,
    [MaPM]        NCHAR (10) NULL,
    [MaOCung]     NCHAR (10) NULL,
    [MaDungLuong] NCHAR (10) NULL,
    [MaChip]      NCHAR (10) NULL,
    [MaRAM]       NCHAR (10) NULL,
    [MaTocDo]     NCHAR (10) NULL,
    [MaManHinh]   NCHAR (10) NULL,
    [MaCoMH]      NCHAR (10) NULL,
    [MaChuot]     NCHAR (10) NULL,
    [MaBanPhim]   NCHAR (10) NULL,
    [MaODia]      NCHAR (10) NULL,
    [GhiChu]      NCHAR (10) NULL,
)
CREATE TABLE [dbo].[tblCaHoc]
(
	[MaCa] NCHAR(10) NOT NULL PRIMARY KEY, 
    [TenCa] NCHAR(10) NULL
)
CREATE TABLE [dbo].[tblMonThucHanh]
(
	[MaMon] NCHAR(10) NOT NULL PRIMARY KEY, 
    [TenMon] NCHAR(10) NULL
)
CREATE TABLE [dbo].[tblLichThucHanh]
(
	[MaSTT] NCHAR(10) NOT NULL PRIMARY KEY, 
    [MaPM] NCHAR(10) NULL, 
    [MaSV] NCHAR(10) NULL, 
    [MaGV] NCHAR(10) NULL, 
    [MaLop] NCHAR(10) NULL, 
    [MaMon] NCHAR(10) NULL, 
    [MaCa] NCHAR(10) NULL, 
    [Thu] NCHAR(10) NULL, 
    [NgayBD] NCHAR(10) NULL, 
    [NgayKT] NCHAR(10) NULL
)



CREATE TABLE [dbo].[tblLop]
(
	[MaLop] NCHAR(10) NOT NULL PRIMARY KEY, 
    [SiSo] NCHAR(10) NULL, 
    [TenLop] NCHAR(10) NULL
)

CREATE TABLE [dbo].[tblSinhVien]
(
	[MaSV] NCHAR(10) NOT NULL PRIMARY KEY, 
    [TenSV] NCHAR(10) NULL, 
    [MaPM] NCHAR(10) NULL, 
    [NamSinh] NCHAR(10) NULL, 
    [GioiTinh] NCHAR(10) NULL,
	[MaTinh] NCHAR(10) NULL, 
    [DienThoai] NCHAR(10) NULL
)

CREATE TABLE [dbo].[tblTinh]
(
	[MaTinh] NCHAR(10) NOT NULL PRIMARY KEY, 
    [TenTinh] NCHAR(10) NULL
)
CREATE TABLE [dbo].[tblMaODia]
(
	[MaODia] NCHAR(10) NOT NULL PRIMARY KEY, 
    [TenODia] NCHAR(10) NULL
)
CREATE TABLE [dbo].[tblManHinh]
(
	[MaManHinh] NCHAR(10) NOT NULL PRIMARY KEY, 
    [TenManHinh] NCHAR(10) NULL
)
CREATE TABLE [dbo].[tblPhongMay] (
    [MaPM]      NCHAR (10) NOT NULL PRIMARY KEY,
    [TenPM]     NCHAR (10) NULL,
    [SoMay]     NCHAR (10) NULL,
    [DiaDiem]   NCHAR (10) NULL,
    [DienThoai] NCHAR (10) NULL,
    
)

DROP TABLE tblPhongMay

CREATE TABLE [dbo].[tblMaChuot]
(
	[MaChuot] NCHAR(10) NOT NULL PRIMARY KEY, 
    [TenChuot] NCHAR(10) NULL
)
CREATE TABLE [dbo].[tblMaBanPhim]
(
	[MaBanPhim] NCHAR(10) NOT NULL PRIMARY KEY, 
    [TenBanPhim] NCHAR(10) NULL
)
CREATE TABLE [dbo].[tblGiaoVien]
(
	[MaGV] NCHAR(10) NOT NULL PRIMARY KEY, 
    [TenGV] NCHAR(10) NULL,
	[DienThoai] NCHAR(10) NULL,
)
CREATE TABLE [dbo].[tblOCung]
(
	[MaOCung] NCHAR(10) NOT NULL PRIMARY KEY, 
    [TenOCung] NCHAR(10) NULL,
)
CREATE TABLE [dbo].[tblDungLuong]
(
	[MaDungLuong] NCHAR(10) NOT NULL PRIMARY KEY, 
    [TenDungLuong] NCHAR(10) NULL,
)
CREATE TABLE [dbo].[tblChip]
(
	[MaChip] NCHAR(10) NOT NULL PRIMARY KEY, 
    [TenChip] NCHAR(10) NULL,
)
CREATE TABLE [dbo].[tblRAM]
(
	[MaRAM] NCHAR(10) NOT NULL PRIMARY KEY, 
    [TenRAM] NCHAR(10) NULL,
)
CREATE TABLE [dbo].[tblTocDo]
(
	[MaTocDo] NCHAR(10) NOT NULL PRIMARY KEY, 
    [TenTocDo] NCHAR(10) NULL,
)
-- Thêm khóa ngoại trên tblLichThucHanh
Alter table tblLichThucHanh
Add constraint FK_MaPM Foreign key (MaPM) references tblPhongMay
Alter table tblLichThucHanh
Add constraint FK_MaSV Foreign key (MaSV) references tblSinhVien
Alter table tblLichThucHanh
Add constraint FK_MaGV Foreign key (MaGV) references tblGiaoVien
Alter table tblLichThucHanh
Add constraint FK_MaLop Foreign key (MaLop) references tblLop
Alter table tblLichThucHanh
Add constraint FK_MaMon Foreign key (MaMon) references tblMonThucHanh
Alter table tblLichThucHanh
Add constraint FK_MaCa Foreign key (MaCa) references tblCaHoc



-- Thêm khóa ngoại trên tblMayTinh
Alter table tblMayTinh
Add constraint tblMayTinh_FK_MaPM Foreign key (MaPM) references tblPhongMay
Alter table tblMayTinh
Add constraint FK_MaOCung Foreign key (MaOCung) references tblOCung
Alter table tblMayTinh
Add constraint FK_MaDungLuong Foreign key (MaDungLuong) references tblDungLuong
Alter table tblMayTinh
Add constraint FK_MaChip Foreign key (MaChip) references tblChip
Alter table tblMayTinh
Add constraint FK_MaRAM Foreign key (MaRAM) references tblRAM
Alter table tblMayTinh
Add constraint FK_MaTocDo Foreign key (MaTocDo) references tblTocDo
Alter table tblMayTinh
Add constraint FK_MaManHinh Foreign key (MaManHinh) references tblManHinh
Alter table tblMayTinh
Add constraint FK_MaCoMH Foreign key (MaCoMH) references tblCoManHinh
Alter table tblMayTinh
Add constraint FK_MaChuot Foreign key (MaChuot) references tblMaChuot
Alter table tblMayTinh
Add constraint FK_MaBanPhim Foreign key (MaBanPhim) references tblMaBanPhim
Alter table tblMayTinh
Add constraint FK_MaODia Foreign key (MaODia) references tblMaODia
 
-- Thêm khóa ngoại trên tblSinhVien
Alter table tblSinhVien
Add constraint tblSinhVien_FK_MaPM Foreign key (MaPM) references tblPhongMay
Alter table tblSinhVien
Add constraint FK_Tinh Foreign key (MaTinh) references tblTinh
